(this["webpackJsonpburger-map"]=this["webpackJsonpburger-map"]||[]).push([[0],{49:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n(2),c=n.n(i),s=n(17),o=n.n(s),a=(n(49),n(10)),u=n(14),d=[],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BURGERS":return t.payload;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return t.payload;default:return e}},b=Object(u.c)({burgers:l,isLoading:g}),h=function(e,t){return b(e,t)},j=n(40),f=Object(u.e)(h,Object(u.d)(Object(u.a)(j.a))),p=n(11),x=n(19),O=n(29),v=n(42),m=n(43),y=function(){function e(t){Object(v.a)(this,e),this.id=t.id,this.name=t.name,this.restaurant=t.restaurant,this.description=t.description,this.website=t.web,this.ingredients=t.ingredients,this.addresses=t.addresses,this.long=null,this.lat=null}return Object(m.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getWeb",value:function(){return this.website}},{key:"getAddressString",value:function(){var e=this.addresses[0];return"".concat(e.line1?e.line1:""," ").concat(e.number?e.number:"").concat(e.line2?", "+e.line2:"").concat(e.postCode?", "+e.postCode:"").concat(e.country?", "+e.country:"")}},{key:"getRestaurant",value:function(){return this.restaurant}},{key:"getIngredientsString",value:function(){return this.ingredients.join(", ")}},{key:"getDescription",value:function(){return this.description}},{key:"getIngredients",value:function(){return this.ingredients}},{key:"getName",value:function(){return this.name}},{key:"getLine1",value:function(){return this.addresses[0].line1?this.addresses[0].line1:""}},{key:"getLine2",value:function(){return this.addresses[0].line2?this.addresses[0].line2:""}},{key:"getNumber",value:function(){return this.addresses[0].number?this.addresses[0].number:""}},{key:"getPostCode",value:function(){return this.addresses[0].postCode?this.addresses[0].postCode:""}},{key:"getCountry",value:function(){return this.addresses[0].country?this.addresses[0].country:""}},{key:"getLat",value:function(){return this.lat}},{key:"getLong",value:function(){return this.long}},{key:"setCoordinates",value:function(e,t){this.long=e,this.lat=t}}]),e}(),k=n.p+"static/media/burger.b0d44dd6.svg";var S={maxWidth:"35px"},C=function(e){var t=e.currentBurgerIndex,n=e.setCurrentBurgerIndex,i=e.index;return Object(r.jsx)("div",{onClick:function(){return n(i)},children:Object(r.jsx)("img",{style:t===i?Object(p.a)(Object(p.a)({},S),{},{backgroundColor:"orange",borderRadius:5,padding:5}):S,src:k,alt:"burger-marker"})})},I=n(15),L=n(26);var w={boxShadow:"2px 2px 3px 0px rgba(0,0,0,0.5)",padding:10,borderRadius:3,backgroundColor:"rgba(0,0,0,0.7)",top:0,right:"30px",color:"white"},T=function(e){var t=e.burger,n=t.getName(),i=t.getWeb(),c=t.getAddressString(),s=t.getDescription(),o=t.getRestaurant(),a=t.getIngredientsString();return Object(r.jsxs)("div",{style:w,children:[Object(r.jsx)("div",{style:{fontWeight:"bold",marginBottom:10},children:n||"no name"}),Object(r.jsxs)("div",{style:{fontSize:12},children:["Restaurant: ",o||"no restaurant"," ",Object(r.jsx)("br",{}),"Website: ",i?Object(r.jsx)("a",{style:{color:"orange"},href:"".concat(i),children:i}):null," ",Object(r.jsx)("br",{}),c]}),Object(r.jsx)("p",{style:{fontSize:12},children:s||"no description"}),Object(r.jsxs)("p",{style:{fontSize:12},children:["Ingridients: ",a||"no ingridients"]})]})};var B={maxWidth:400,position:"absolute",zIndex:2,top:10,left:10},R={backgroundColor:"rgba(0,0,0,0.7)",borderRadius:3,padding:"10px",top:20,left:20,marginBottom:10,boxShadow:"2px 2px 3px 0px rgba(0,0,0,0.5)"},A={display:"flex",justifyContent:"center",alignItems:"center"},z={color:"white",fontSize:14,cursor:"pointer",margin:"0 10px"},J={padding:"3px",background:"transparent",color:"white",fontWeight:"bold",textTransform:"uppercase",fontSize:14},Y=function(e){var t=e.nextBurger,n=e.currentBurgerIndex,i=e.burgers;return e.setDarkTheme,e.darkTheme,Object(r.jsxs)("div",{style:B,children:[Object(r.jsx)("div",{style:R,children:Object(r.jsxs)("div",{style:A,children:[Object(r.jsx)("span",{style:z,onClick:function(){return t(n-1)},children:Object(r.jsx)(I.a,{icon:L.a})}),Object(r.jsx)("select",{style:J,defaultValue:n||-1,onChange:function(e){return t(parseInt(e.target.value))},name:"burgers",id:"select-burgers",children:function(e){return e.map((function(e,t){return Object(r.jsx)("option",{selected:t===n,value:t,children:e.getName()},e.getId())}))}(i)}),Object(r.jsx)("span",{style:z,onClick:function(){return t(n+1)},children:Object(r.jsx)(I.a,{icon:L.b})})]})}),Object(r.jsx)(T,{burger:i[n]})]})};var E=function(){var e=Object(a.c)((function(e){return e.burgers})),t=Object(i.useRef)(null),n=Object(i.useState)({}),c=Object(x.a)(n,2),s=c[0],o=c[1],u=Object(i.useState)(0),d=Object(x.a)(u,2),l=d[0],g=d[1],b=Object(i.useState)(!1),h=Object(x.a)(b,2),j=h[0],f=h[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y,{setDarkTheme:f,darkTheme:j,nextBurger:function(t){var n=t;t>e.length-1&&(n=0),-1===t&&(n=e.length-1),o(Object(p.a)(Object(p.a)({},s),{},{zoom:10,latitude:e[n].getLat(),longitude:e[n].getLong()})),g(n)},currentBurgerIndex:l,burgers:e}),Object(r.jsx)(O.b,Object(p.a)(Object(p.a)({},s),{},{ref:t,width:"100vw",height:"100vh",mapStyle:"mapbox://sprites/mapbox/streets-v8",onViewportChange:function(e){return o(e)},mapboxApiAccessToken:"pk.eyJ1IjoiZG9tLXRoZS1kZXYiLCJhIjoiY2tpOTJ6dnUxMDUyYTJzcmtqNHlrYTgzYSJ9.A0f6gvahojPYcwQAidMaow",children:e&&e.length?function(e){return e.filter((function(e){return!(!e.getLat()&&!e.getLong())})).map((function(e,t){return Object(r.jsx)(O.a,{latitude:e.getLat(),longitude:e.getLong(),offsetLeft:-20,offsetTop:-10,children:Object(r.jsx)(C,{index:t,currentBurgerIndex:l,setCurrentBurgerIndex:g,burger:e})},e.getId())}))}(e):null}))]})},D=n(28),N=n(27),_=n.n(N),W={getBurgers:function(){return _.a.get("https://my-burger-api.herokuapp.com/burgers").then((function(e){return e.data})).catch((function(e){console.log(e)}))},getCoordinates:function(e,t,n,r,i){var c="".concat(e.replaceAll(" ","&"),"&").concat(t.replaceAll(" ","&"),"&").concat(n.replaceAll(" ","&"),"&").concat(r.replaceAll(" ","&"),"&").concat(i.replaceAll(" ","&"));return _.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(c,".json?access_token=").concat("pk.eyJ1IjoiZG9tLXRoZS1kZXYiLCJhIjoiY2tpOTJ6dnUxMDUyYTJzcmtqNHlrYTgzYSJ9.A0f6gvahojPYcwQAidMaow")).then((function(e){return e.data.features[0].center})).catch((function(e){return console.log("ERROR: ",e)}))}},G=function(e){return{type:"SET_IS_LOADING",payload:e}};function P(e){var t=e.text;return Object(r.jsxs)("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(r.jsx)("img",{style:{marginBottom:"20px",maxWidth:"70px"},src:k,alt:"burger-marker"}),Object(r.jsx)("div",{children:t})]})}var U={position:"absolute",zIndex:2,right:10,top:10},Z={color:"black",fontSize:22,marginTop:20,marginRight:10},F=function(){var e=Object(a.c)((function(e){return e.isLoading})),t=Object(a.b)(),n=Object(a.c)((function(e){return e.burgers}));return Object(i.useEffect)((function(){t((function(e){e(G(!0)),W.getBurgers().then((function(e){var t=[];return e.forEach((function(e){t.push(new y(e))})),t})).then((function(e){return e.forEach((function(e){W.getCoordinates(e.getLine1(),e.getLine2(),e.getNumber(),e.getPostCode(),e.getCountry()).then((function(t){e.setCoordinates(t[0],t[1])}))})),e})).then((function(t){e(function(e){return{type:"SET_BURGERS",payload:e}}(t))})).finally((function(){e(G(!1))}))}))}),[t]),e?Object(r.jsx)(P,{text:"Loading burgers.."}):n.length?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:U,children:[Object(r.jsx)("a",{style:Z,href:"https://github.com/dom-the-dev/burger-map",children:Object(r.jsx)(I.a,{icon:D.a})}),Object(r.jsx)("a",{style:Z,href:"https://twitter.com/dom_the_dev",children:Object(r.jsx)(I.a,{icon:D.b})})]}),Object(r.jsx)(E,{burgers:n})]}):Object(r.jsx)(P,{text:"No burgers available :("})};var M=function(){return Object(r.jsx)(a.a,{store:f,children:Object(r.jsx)(F,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),c(e),s(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(M,{})}),document.getElementById("root")),X()}},[[72,1,2]]]);
//# sourceMappingURL=main.190486b6.chunk.js.map